<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="author" content="Frank Coelho de Alcantara -2020" />
  <title>Aloca√ß√£o de Mem√≥ria</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta
    name="apple-mobile-web-app-status-bar-style"
    content="black-translucent" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" />
  <link rel="stylesheet" href="../../rev/reset.css" />
  <link rel="stylesheet" href="../../rev/reveal.css" />
  <link rel="stylesheet" href="../../rev/interpret.css" />
</head>
<body>
  <div class="reveal">
    <div class="slides">
      <section id="title-slide" class="nivel1">
       <section>
        <h1 class="title" style="width: 90%; margin-left: 4%;">Aloca√ß√£o de Mem√≥ria</h1>
        <p style="text-align: right !important;">Frank Coelho de Alcantara -2021&nbsp;&nbsp;</p>
       </section>
      </section>
      <section class="nivel1">
        <section>
          <p style="text-align: center !important; margin: 0 auto; font-size: 200%; font-weight: bolder;width: 80%;">
            NA ARQUITETURA DE VON NEWMANN DADOS E COMANDOS UTILIZAM A MESMA MEM√ìRIA. </p>
        </section>
        <section>
          <h2>Gest√£o de Mem√≥ria - Considera√ß√µes</h2>
          <img data-src="../img/opt9.png" style="height: 520px !important; margin-top: 2%;"  alt="exemplo de c√≥digo substituindo multiplica√ß√£o por somas." />
        </section>
        <section>
          <h2>Layout B√°sico</h2>
          <img data-src="../img/opt10.png" style="height: 520px !important; margin-top: 2%; margin-left: 4%;"  alt="exemplo de c√≥digo substituindo multiplica√ß√£o por somas." />
        </section>
        <section>
          <h2>Static Allocation</h2>
          <small style=" font-size: 80% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up">Na maior parte das linguagens imperativas <b>o c√≥digo √© alocado estaticamente</b>.</p>
            <p class="fragment fade-up">O compilador define, em tempo de compila√ß√£o o endere√ßo de cada artefato e este endere√ßo √© imut√°vel durante o tempo de execu√ß√£o.</p>
            <p class="fragment fade-up">Vari√°veis est√°ticas dependem de seu tempo de vida:</p>
            <ul>
              <li class="fragment fade-up"><b>Globais</b> existem durante todo o tempo de execu√ß√£o;</li>
              <li class="fragment fade-up"><b>Locais</b> existem durante o tempo de uma fun√ß√£o, ou m√©todo, ou procedure;</li>
              <li class="fragment fade-up"><b>Dados compartilhados</b> entre objetos existem durante todo o de execu√ß√£o.</li>
            </ul>
        </small>
        </section>
        <section>
          <h2>Stack Allocation</h2>
          <small style=" font-size: 80% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up">M√©todo simples e eficiente de alocar mem√≥ria para sub-rotinas.</p>
            <p class="fragment fade-up">Quando uma sub-rotina √© chamada toda a mem√≥ria necess√°ria √© alocada em um bloco chamado de <b>Activation Record</b> ou <b>Stack Frame</b>.</p>
            <p class="fragment fade-up">O layout destes frames varia de linguagem para linguagem e de arquitetura para arquitetura</p>
          </small>
        </section>
        <section>
          <h2>Stack Allocation - Erro</h2>
          <img data-src="../img/opt11.png" style="height: 520px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Stack Frame</h2>
          <img data-src="../img/opt12.png" style="height: 520px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Stack Frames - Considera√ß√µes</h2>
          <img data-src="../img/opt13.png" style="height: 495px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Heap Allocation</h2>
          <img data-src="../img/opt14.png" style="height: 495px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Heap Allocation - Detalhes</h2>
          <img data-src="../img/opt15.png" style="height: 540px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Algoritmos de Aloca√ß√£o no Heap</h2>
          <img data-src="../img/opt16.png" style="height: 540px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Exemplo em C</h2>
          <img data-src="../img/opt17.png" style="height: 540px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Considera√ß√µes sobre Aloca√ß√£o</h2>
          <img data-src="../img/opt18.png" style="height: 540px !important;"  alt="permite otimiza√ß√£o utilizando as caracter√≠sticas da linguagem." />
        </section>
        <section>
          <h2>Como Acompanhar os Blocos?</h2>
          <small style=" font-size: 76% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up"><b>Manter</b> uma linked-list do blocos livres no heap.</p>
            <p class="fragment fade-up">Para <b>alocar</b>, buscamos na lista um bloco cujo tamanho seja igual ou maior que o necess√°rio.</p>
            <p class="fragment fade-up">Se o tamanho for igual <b>removemos</b> o bloco da lista de blocos livres.</p>
            <p class="fragment fade-up">Se o tamanho for maior, <b>modificamos</b> o tamanho para o tamanho necess√°rio.</p>
            <p class="fragment fade-up">Quando um artefato √© <b>deletado</b>, o bloco √© devolvido a lista de blocos livres.</p>
            <p class="fragment fade-up">E verificamos se esse bloco n√£o pode ser <b>unido</b> a um dos seus vizinhos para criar um bloco maior.</p>
          </small>
        </section>
        <section>
          <h2>Como Encontrar os Blocos?</h2>
          <small style=" font-size: 80% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up"><b>Quatro algoritmos</b> dominam este cen√°rio.</p>
            <p class="fragment fade-up"><b>First-fit</b>: seleciona o primeiro bloco da lista de blocos livres que seja maior ou igual ao necess√°rio.</p>
            <p class="fragment fade-up"><b>Best-fit</b>: busca em toda a lista o melhor bloco para alocar o espa√ßo necess√°rio, o de tamanho igual √© melhor.</p>
            <p class="fragment fade-up"><b>Buddy system</b>: usa blocos de tamanho padr√£o $2^ùëò$. Se n√£o existir nenhum espa√ßo dispon√≠vel. Se nenhum bloco de tamanho entre $2^{(ùëò‚àí1)}$ e $2^ùëò$ atende ent√£o vamos encontrar 
                um bloco de $2^{(ùëò+1)}$ e dividi-lo ao meio adicionando as metades a lista de blocos livres</p>
            <p class="fragment fade-up"><b>Fibonacci heap</b>: blocos de tamanho padr√£o seguindo a sequ√™ncia de Fibonacci.</p>
          </small>
        </section>
      </section>
      <section class="nivel1">
        <section>
          <h2>O Programador Controla Tudo</h2>
          <small style=" font-size: 78% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up"><b>Malloc / new</b>: aloca a <b>mem√≥ria necess√°ria</b> para um determinado artefato.</p>
            <p class="fragment fade-up"><b>Free / delete</b>: libera a <b>mem√≥ria usada</b> por um determinado artefato.</p>
            <p class="fragment fade-up">Este modelo permite que o programador tenha controle da efici√™ncia do seu execut√°vel.</p>
            <p class="fragment fade-up">Este modelo permite que erros de desaloca√ß√£o afetem a seguran√ßa do programa.</p>
            <p class="fragment fade-up">Solu√ß√£o cl√°ssica, dos anos 1950, <b>Garbage Collector</b>. Vamos investigar a mem√≥ria e remover todos 
            os artefatos in√∫teis ainda na mem√≥ria.</p>
          </small>
        </section>
        <section>
          <h2>Garbage Collector - Considera√ß√µes</h2>
          <small style=" font-size: 80% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up">A linguagem define o <b>tempo de vida</b> de um artefato.</p>
            <p class="fragment fade-up">Em tempo de execu√ß√£o mant√©m controle de todos o <b>bindings</b> de cada artefato, incrementando a lista sempre que uma refer√™ncia √© criada e decrementando sempre que a refer√™ncia √© destru√≠da.</p>
            <p class="fragment fade-up">Se um objeto nunca √© desalocado teremos um vazamento de mem√≥ria (<b>memory leak</b>).</p>
            <p class="fragment fade-up">√â necess√°rio determinar se o artefato est√° vivo, ou n√£o, de acordo com a especifica√ß√£o da pr√≥pria linguagem.</p>
          </small>
        </section>
        <section>
          <h2>Garbage Collector - Desvantagens</h2>
          <small style=" font-size: 72% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up">Um processo adicional precisa ser inclu√≠do no seu execut√°vel.</p>
            <p class="fragment fade-up">Degrada os algoritmos de <b>cache</b>.</p>
            <p class="fragment fade-up">Aumenta o consumo de mem√≥ria.</p>
            <p class="fragment fade-up">Em alguns casos, consome 10% do tempo de uso de um programa.</p>
          </small>
        </section>
        <section>
          <h2>Garbage Collector - Algoritmos</h2>
          <small style=" font-size: 67% !important; width: 93%; margin-left: 2%;">
            <p class="fragment fade-up"><b>Reference Counting</b>: neste algoritmo, uma estrutura de dados extra mant√©m uma contagem de todos os ponteiros, ou refer√™ncias, para 
              um determinado objeto. Este contador √© incrementado sempre que uma refer√™ncia √© criada e decrementado sempre que uma refer√™ncia √© destruida. Quando 
            o contador chega a zero, o artefato pode ser removido da mem√≥ria.</p>
            <ol>
              <li style="margin-bottom: 1%;" class="fragment fade-up" >Simples e f√°cil de implementar. Por√©m, a mem√≥ria necess√°ria para manter o contador pode ser muito grande.</li>
              <li style="margin-bottom: 1%;" class="fragment fade-up">O controle pode ser feito pelo pr√≥prio uso dos artefatos. Contudo, se os artefatos tem vida muito curta, o custo de manter o contador n√£o faz sentido.</li>
              <li style="margin-bottom: 1%;" class="fragment fade-up">A libera√ß√£o da mem√≥ria √© instant√¢nea. Se a refer√™ncia √© feita por um grupo de artefatos, a mem√≥ria pode n√£o ser liberada.</li>
            </ol>
          </small>
        </section>
        <section>
          <h2>Garbage Collector - Pesquisa</h2>
            <p>Explique o funcionamento dos seguintes algoritmos de Garbage Collector:</p>
              <ol>
                <li style="margin-bottom: 1%;" class="fragment fade-up">Mark-Sweep;</li>
                <li style="margin-bottom: 1%;" class="fragment fade-up">Mark-Compact;</li>
                <li style="margin-bottom: 1%;" class="fragment fade-up">Semispace;</li>
              </ol>
            <p>Sua pesquisa deve conter uma breve descri√ß√£o de cada algoritmo, destacando pr√≥s e contras, poss√≠veis aplica√ß√µes.</p>
        </section>
      </section>
    </div>
  </div>
  <div class="home-button"><a href="https://frankalcantara.com"><i class="fas fa-home"></i></a></div>
  <script src="../../rev/reveal.js"></script>
  <script src="../../rev/plugin/notes/notes.js"></script>
  <script src="../../rev/plugin/search/search.js"></script>
  <script src="../../rev/plugin/zoom/zoom.js"></script>
  <script src="../../rev/plugin/math/math.js"></script>
  <script src="../../rev/plugin/menu/menu.js"></script>
  <script src="../../rev/plugin/chalkboard/plugin.js"></script>

  <script>
    // Full list of configuration options available at:
    // https://revealjs.com/config/
    Reveal.initialize({
      // Push each slide change to the browser history
      history: true,
      // Transition style
      transition: "fade", // none/fade/slide/convex/concave/zoom
      center: false,
      math: {
        mathjax:
          "https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js",
        config: "TeX-AMS_HTML-full",
        // pass other options into `MathJax.Hub.Config()`
        TeX: {
          Macros: {
            RR: "{\\bf R}",
          },
        },
      },
      menu: {
        side: "left",
        width: "normal",
        numbers: false,
        titleSelector: "h1, h2, h3, h4, h5, h6",
        useTextContentForMissingTitles: false,
        hideMissingTitles: false,
        markers: true,
        custom: false,
        themes: false,
        themesPath: "dist/theme/",
        transitions: false,
        openButton: true,
        openSlideNumber: false,
        keyboard: true,
        sticky: false,
        autoOpen: true,
        delayInit: false,
        openOnInit: false,
        loadIcons: true,
      },

      // reveal.js plugins
      plugins: [
        RevealNotes,
        RevealMath,
        RevealMenu,
        RevealChalkboard,
        RevealSearch,
        RevealZoom,
      ],
    });
  </script>
</body>

</html>